---
title: "Structured intelligence governance"
subtitle: "Structured intelligence systems understood by arrowkeepers"
format: 
  revealjs
---

## Set data source

Data source set to: 

```{r set_parameters}
#| tags: [parameters]

data_source="template"
print(data_source)

```

```{r}
source("scripts/R/sig_dat.R")
source("scripts/R/sig_graph.R")
source("scripts/R/sig_vis.R")

```

```{r}
library(ggraph)
library(tidygraph)

```

## Where does it hurt?

> Point at the picture where the data system hurt people.

---

## Example SIG

---

![](img/sis-template.png)


## Known universe

- arrows that have agreed-upon mandates (minimum requirements)


```{r}
# wrangle into graph data for R

sig_dat <- SigDat$new(source = data_source)
sig_graph <- SigGraph$new(sig_dat = sig_dat)


plot_graph <- sig_graph$graph

sig_vis <- SigVis$new(sig_graph = sig_graph)



```
  

# system overview
  
## {.stretch}

```{r}
  #| fig-width: 12
  #| fig-height: 8

sig_vis$plot() +
  labs(
    title = "Structured intelligence governance",
    subtitle = "Everything",
    x = "",
    y = ""
  )


```


## {.stretch} 

```{r}
```{r}
  #| fig-width: 12
  #| fig-height: 8

context_graph <- SigGraph$new(sig_dat = sig_dat)

context_graph$set_aggregation("node_context")


agg_vis <- SigVis$new(sig_graph = context_graph)

agg_vis$plot() +
  labs(
    title = "Structured intelligence governance",
    subtitle = "Contexts",
    x = "",
    y = ""
  )


```



# Minimum requirements to fulfill 

## for analytics

```{r}
library(gt)

sig_graph$edges %>%
  filter(arrowkeeper == "analytics", status != "operational") %>%
  select(-arrowkeeper) %>%
  gt()

```

## for scientists

```{r}

sig_graph$edges %>%
  filter(arrowkeeper == "scientists", status != "operational") %>%
  select(-arrowkeeper) %>%
  gt()

```

## for decision makers

```{r}

sig_graph$edges %>%
  filter(arrowkeeper == "deciders", status != "operational") %>%
  select(-arrowkeeper) %>%
  gt()

```

## for field

```{r}

sig_graph$edges %>%
  filter(arrowkeeper == "field", status != "operational") %>%
  select(-arrowkeeper) %>%
  gt()


```

